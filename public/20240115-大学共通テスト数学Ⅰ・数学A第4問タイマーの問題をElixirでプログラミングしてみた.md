---
title: 大学共通テスト数学Ⅰ・数学A第4問タイマーの問題をElixirでプログラミングしてみた
tags:
  - Elixir
private: false
updated_at: '2024-01-15T05:00:48+09:00'
id: ac4a60fcee3964511087
organization_url_name: fukuokaex
slide: false
ignorePublish: false
---
大学共通テスト数学Ⅰ・数学A第4問タイマーの問題をElixirでプログラミングしてみたので，報告します．

## 問題

T3，T4，T6を次のようなタイマーとする．

* T3: 3進数を3桁表示するタイマー
* T4: 4進数を3桁表示するタイマー
* T6: 6進数を3桁表示するタイマー

なお$n$進数とは，$n$進法で表された数のことである．

これらのタイマーは，すべて次の表示方法に従うものとする．

表示方法

1. スタートした時点でタイマーは000と表示されている．
1. タイマーは，スタートした後，表示される数が1秒ごとに1ずつ増えていき，3桁で表示できる最大の数が表示された1秒後に，表示が000に戻る．
1. タイマーは表示が000に戻った後も，2と同様に，表示される数が1秒ごとに1ずつ増えていき，3桁で表示できる最大の数が表示された1秒後に，表示が000に戻るという動作を繰り返す．

例えば，T3はスタートしてから3進数で$12_{(3)}$秒後に012と表示される．その後，222と表示された1秒後に表示が000に戻り，その$12_{(3)}$秒後に再び012と表示される．

## プログラム例

```elixir
defmodule Timer do
  def at(tick, base, count \\ 3) do
    tick
    |> Kernel.rem(base ** count)
    |> Integer.to_string(base)
    |> String.pad_leading(count, "0")
  end

  def to(tick, base, count \\ 3) do
    Enum.map(0..tick, &at(&1, base, count))
  end

  def zip(tick, bases \\ [3, 4, 6], count \\ 3) do
    bases
    |> Enum.map(&to(tick, &1, count))
    |> Enum.zip()
  end
end
```

実行例

```elixir
Timer.zip(10)
```

実行結果

```elixir
[
  {"000", "000", "000"},
  {"001", "001", "001"},
  {"002", "002", "002"},
  {"010", "003", "003"},
  {"011", "010", "004"},
  {"012", "011", "005"},
  {"020", "012", "010"},
  {"021", "013", "011"},
  {"022", "020", "012"},
  {"100", "021", "013"},
  {"101", "022", "014"}
]
```

実行例

```elixir
10 |> Timer.zip() |> Enum.with_index()
```

実行結果

```elixir
[
  {{"000", "000", "000"}, 0},
  {{"001", "001", "001"}, 1},
  {{"002", "002", "002"}, 2},
  {{"010", "003", "003"}, 3},
  {{"011", "010", "004"}, 4},
  {{"012", "011", "005"}, 5},
  {{"020", "012", "010"}, 6},
  {{"021", "013", "011"}, 7},
  {{"022", "020", "012"}, 8},
  {{"100", "021", "013"}, 9},
  {{"101", "022", "014"}, 10}
]
```



